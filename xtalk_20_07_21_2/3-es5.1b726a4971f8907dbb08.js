(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{tSmu:function(l,n,t){"use strict";t.r(n);var e=t("CcnG"),u=function(){return function(){}}(),s=t("t68o"),i=t("zbXB"),a=t("NcP4"),o=t("xYTU"),r=t("pMnS"),c=t("9AJC"),b=t("iutN"),m=t("Xg1U"),d=t("VpDk"),g=t("Gfl+"),p=t("lmyO"),h=t("K8MI"),f=t("F6l4"),v=t("uJnt"),E=t("AOb3"),I=t("xkI/"),k=t("oEa3"),C=t("K+Po"),M=t("LLQM"),x=t("72i9"),y=t("0/Q6"),R=t("Wf4p"),w=t("Ip0R"),O=t("6UMx"),G=t("hUWP"),L=t("OzfB"),S=t("NvT6"),P=t("Blfk"),$=t("dWZg"),N=t("wFw1"),A=t("t/Na"),Q=t("F/XL"),j=t("67Y/"),_=t("9Z1F"),U=t("t0IR"),F=function(){function l(l,n){this.chatService=l,this.uploadService=n,this.imageHelper=new U.a,this.uploaded=!1}return l.prototype.ngOnInit=function(){"image"==this.message.type&&this.message.isNew&&(new Image,this.uploadFile()),"text"==this.message.type&&this.message.isNew&&this.chatService.sendMessage(this.message)},l.prototype.preview=function(l){var n=this;if(null!=l.type.match(/image\/*/)){var t=new FileReader;t.readAsDataURL(l),t.onload=function(l){n.message.imageLink=t.result}}},l.prototype.uploadFile=function(){var l=this;this.uploaded=!0;var n=new FormData;n.append("file",this.message.file.data),this.message.file.inProgress=!0,this.uploadService.upload(n).pipe(Object(j.a)((function(n){switch(n.type){case A.f.UploadProgress:l.message.file.progress=Math.round(100*n.loaded/n.total);break;case A.f.Response:return n}})),Object(_.a)((function(n){return l.message.file.inProgress=!1,Object(Q.a)(l.message.file.data.name+" upload failed.")}))).subscribe((function(n){"object"==typeof n&&1==n.body.status&&(l.message.imageLink=n.body.data.url,l.chatService.sendMessage(l.message))}))},l}(),V=t("RlqE"),q=t("AytR"),D=function(){function l(l){this.httpClient=l,this.SERVER_URL=q.a.uploadUrl}return l.prototype.upload=function(l){return this.httpClient.post(this.SERVER_URL,l,{reportProgress:!0,observe:"events"})},l.ngInjectableDef=e.Tb({factory:function(){return new l(e.Ub(A.c))},token:l,providedIn:"root"}),l}(),B=e.sb({encapsulation:0,styles:[[".mat-progress-spinner[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%], .progress-upload[_ngcontent-%COMP%]{float:right;width:15px!important;height:15px!important}.preview-Img[_ngcontent-%COMP%]{max-width:50%}"]],data:{}});function T(l){return e.Qb(0,[(l()(),e.ub(0,0,null,null,1,"div",[["class","pic-item-chat"]],null,null,null,null,null)),(l()(),e.ub(1,0,null,null,0,"img",[],[[8,"src",4]],null,null,null,null))],null,(function(l,n){var t=n.component;l(n,1,0,e.yb(1,"",t.imageHelper.getAvatarLinkV2(t.user,t.user.avatarPath,"thumbnail"),""))}))}function z(l){return e.Qb(0,[(l()(),e.ub(0,0,null,null,1,"div",[["class","pic-item-chat"]],null,null,null,null,null)),(l()(),e.ub(1,0,null,null,0,"img",[],[[8,"src",4]],null,null,null,null))],null,(function(l,n){var t=n.component;l(n,1,0,e.yb(1,"",t.imageHelper.getAvatarLinkV2(t.to,t.to.avatarPath,"thumbnail"),""))}))}function H(l){return e.Qb(0,[(l()(),e.ub(0,0,null,null,9,"div",[["class","item-chat"]],null,null,null,null,null)),(l()(),e.kb(16777216,null,null,1,null,T)),e.tb(2,16384,null,0,w.m,[e.R,e.O],{ngIf:[0,"ngIf"]},null),(l()(),e.kb(16777216,null,null,1,null,z)),e.tb(4,16384,null,0,w.m,[e.R,e.O],{ngIf:[0,"ngIf"]},null),(l()(),e.ub(5,0,null,null,1,"div",[["class","txt-item-chat"]],null,null,null,null,null)),(l()(),e.Ob(6,null,[" "," "])),(l()(),e.ub(7,0,null,null,2,"span",[["class","date-chat"]],null,null,null,null,null)),(l()(),e.Ob(8,null,["",""])),e.Kb(9,2)],(function(l,n){var t=n.component;l(n,2,0,t.message.from.id==t.user.id),l(n,4,0,t.message.from.id!=t.user.id)}),(function(l,n){var t=n.component;l(n,6,0,t.message.text);var u=e.Pb(n,8,0,l(n,9,0,e.Gb(n.parent,0),t.message.createdAt,"shortTime"));l(n,8,0,u)}))}function K(l){return e.Qb(0,[(l()(),e.ub(0,0,null,null,1,"div",[["class","pic-item-chat"]],null,null,null,null,null)),(l()(),e.ub(1,0,null,null,0,"img",[],[[8,"src",4]],null,null,null,null))],null,(function(l,n){var t=n.component;l(n,1,0,e.yb(1,"",t.imageHelper.getAvatarLinkV2(t.user,t.user.avatarPath,"thumbnail"),""))}))}function Y(l){return e.Qb(0,[(l()(),e.ub(0,0,null,null,1,"div",[["class","pic-item-chat"]],null,null,null,null,null)),(l()(),e.ub(1,0,null,null,0,"img",[],[[8,"src",4]],null,null,null,null))],null,(function(l,n){var t=n.component;l(n,1,0,e.yb(1,"",t.imageHelper.getAvatarLinkV2(t.to,t.to.avatarPath,"thumbnail"),""))}))}function J(l){return e.Qb(0,[(l()(),e.ub(0,0,null,null,1,"mat-progress-spinner",[["class","progress-upload mat-progress-spinner"],["role","progressbar"]],[[2,"_mat-animation-noopable",null],[4,"width","px"],[4,"height","px"],[1,"aria-valuemin",0],[1,"aria-valuemax",0],[1,"aria-valuenow",0],[1,"mode",0]],null,null,S.b,S.a)),e.tb(1,114688,null,0,P.b,[e.k,$.a,[2,w.d],[2,N.a],P.a],{diameter:[0,"diameter"],value:[1,"value"]},null)],(function(l,n){l(n,1,0,20,n.component.message.file.progress)}),(function(l,n){l(n,0,0,e.Gb(n,1)._noopAnimations,e.Gb(n,1).diameter,e.Gb(n,1).diameter,"determinate"===e.Gb(n,1).mode?0:null,"determinate"===e.Gb(n,1).mode?100:null,"determinate"===e.Gb(n,1).mode?e.Gb(n,1).value:null,e.Gb(n,1).mode)}))}function Z(l){return e.Qb(0,[(l()(),e.ub(0,0,null,null,2,"div",[["class","txt-item-chat"]],null,null,null,null,null)),(l()(),e.kb(16777216,null,null,1,null,J)),e.tb(2,16384,null,0,w.m,[e.R,e.O],{ngIf:[0,"ngIf"]},null)],(function(l,n){var t=n.component;l(n,2,0,t.uploaded&&100!=t.message.file.progress)}),null)}function W(l){return e.Qb(0,[(l()(),e.ub(0,0,null,null,11,"div",[["class","item-chat"]],null,null,null,null,null)),(l()(),e.kb(16777216,null,null,1,null,K)),e.tb(2,16384,null,0,w.m,[e.R,e.O],{ngIf:[0,"ngIf"]},null),(l()(),e.kb(16777216,null,null,1,null,Y)),e.tb(4,16384,null,0,w.m,[e.R,e.O],{ngIf:[0,"ngIf"]},null),(l()(),e.ub(5,0,null,null,1,"div",[["class","txt-item-chat"]],null,null,null,null,null)),(l()(),e.ub(6,0,null,null,0,"img",[["alt",""],["class","preview-Img"],["srcset",""]],[[8,"src",4]],null,null,null,null)),(l()(),e.kb(16777216,null,null,1,null,Z)),e.tb(8,16384,null,0,w.m,[e.R,e.O],{ngIf:[0,"ngIf"]},null),(l()(),e.ub(9,0,null,null,2,"span",[["class","date-chat"]],null,null,null,null,null)),(l()(),e.Ob(10,null,["",""])),e.Kb(11,2)],(function(l,n){var t=n.component;l(n,2,0,t.message.from.id==t.user.id),l(n,4,0,t.message.from.id!=t.user.id),l(n,8,0,t.message.isNew)}),(function(l,n){var t=n.component;l(n,6,0,e.yb(1,"",t.message.imageLink,""));var u=e.Pb(n,10,0,l(n,11,0,e.Gb(n.parent,0),t.message.createdAt,"shortTime"));l(n,10,0,u)}))}function X(l){return e.Qb(0,[e.Ib(0,w.e,[e.w]),(l()(),e.kb(16777216,null,null,1,null,H)),e.tb(2,16384,null,0,w.m,[e.R,e.O],{ngIf:[0,"ngIf"]},null),(l()(),e.kb(16777216,null,null,1,null,W)),e.tb(4,16384,null,0,w.m,[e.R,e.O],{ngIf:[0,"ngIf"]},null)],(function(l,n){var t=n.component;l(n,2,0,"text"==t.message.type),l(n,4,0,"image"==t.message.type)}),null)}var ll=function(){function l(){}return l.prototype.transform=function(l,n,t){return n?(n=n.toLowerCase(),l.filter((function(l){var e=!1;for(var u in t){if(l.userId[t[u]]&&(l.userId[t[u]].toLowerCase().indexOf(n)>-1&&(e=!0),e))return l;if(l.modelId[t[u]]&&(l.modelId[t[u]].toLowerCase().indexOf(n)>-1&&(e=!0),e))return l}}))):l},l}(),nl=t("ofNW"),tl=t("mFvv"),el=t("Agjv"),ul=t("ckUu"),sl=t("2Rd7"),il=t("gwYC"),al=t("ZYCi"),ol=t("gIcY"),rl=t("l319"),cl=t("WCfK"),bl=t("aF9I"),ml=t("h8JX"),dl=t("4fSp"),gl=t("mrSG"),pl=t("nPby"),hl=function(){function l(l,n,t,e,u,s){var i=this;this.chatService=l,this.authentication=n,this.alertService=t,this.route=e,this.socketService=u,this.router=s,this.isNewConv=!1,this.toogleChatClicked=!1,this.currentTotalMessage=0,this.canLoadMessage=!0,this.to=new pl.m,this.listRoom=[],this.isScroll=!1,this.message="",this.messages=[],this.listMessages=new Map,this.loadedMessage=new Map,this.imageHelper=new U.a,this.searchableRoom=["firstName","lastName"],this.name="Kim Amana",this.myName="test Name",this.user=this.authentication.currentUserValue,this.chatService.currentRoom.subscribe((function(l){i.roomId=l})),this.router.params.subscribe((function(l){i.reqId=l.id,i.reqId&&i.chatService.setCurrentRoom("room-"+i.user.id+"-"+i.reqId)}))}return l.prototype.ngOnInit=function(){var l=this;this.chatService.newMessage().subscribe((function(n){if(console.log("new message in chatpage"),console.log(n),(n=(new pl.f).deserialize(n))&&n.from){var t=n;if(t.from!=l.user.id)if(t.roomId==l.roomId)l.messages.push(t);else{var e=l.listMessages.get(t.roomId)?l.listMessages.get(t.roomId):[];e.push(t),l.listMessages.set(t.roomId,e),l.loadedMessage.set(t.roomId,!1)}}}),(function(n){l.alertService.error("Failed")})),this.getListRoom(),this.chatService.inChatPage=!0,document.getElementsByTagName("body"),this.toogleChat.nativeElement.on("click",(function(n){l.toogleChatClicked=!l.toogleChatClicked}))},l.prototype.sendMessage=function(){if(this.message=this.message.substring(0,this.message.length-1),""!==this.message&&0!=this.message.length&&this.to.id){var l=new pl.f;l.text=this.message,l.type="text",l.user=this.user,l.createdAt=new Date,l.roomId=this.roomId,l.to=this.to,l.from=this.user,l.isNew=!0,this.messages.push(l),this.listMessages.set(this.roomId,this.messages),this.message=""}},l.prototype.startChat=function(l){this.to.id=l,this.chatService.startChat({to:this.to,text:"text send messge",roomId:this.roomId,user:this.user})},l.prototype.getListRoom=function(){var l=this;this.chatService.listRoom$.subscribe((function(n){if(n){l.listRoom=[];var t=[];l.roomId?(l.isNewConv=!0,n.forEach((function(n){l.roomId==n.id&&(l.isNewConv=!1,"model"==l.user.role&&n.userId&&(l.to=(new pl.m).deserialize(n.userId)),"member"==l.user.role&&n.modelId&&(l.to=(new pl.m).deserialize(n.modelId))),"model"==l.user.role&&n.userId&&(l.listRoom.push(n),t.push(n.id),l.listMessages.set(n.id,new Array)),"member"==l.user.role&&n.modelId&&(l.listRoom.push(n),t.push(n.id),l.listMessages.set(n.id,new Array)),l.chatService.joinRoom((new pl.f).deserialize({roomId:n.id}))})),setTimeout((function(){l.setTo()}),300)):(l.isNewConv=!1,n.forEach((function(n){"model"==l.user.role&&n.userId&&(l.listRoom.push(n),t.push(n.id),l.listMessages.set(n.id,new Array)),"member"==l.user.role&&n.modelId&&(l.listRoom.push(n),t.push(n.id),l.listMessages.set(n.id,new Array)),l.chatService.joinRoom((new pl.f).deserialize({roomId:n.id}))})),l.setTo())}}),(function(n){l.alertService.error(n.msg)}))},l.prototype.beginRoom=function(l,n){if(l){this.to=n,this.chatService.setCurrentRoom(l);var t=new pl.f;t.roomId=this.roomId,t.from=this.user.id,this.chatService.joinRoom(t),this.canLoadMessage=!0,this.loadedMessageInCurrentRoom()}else l="model"==this.user.role?"room-"+n+"-"+this.user.id:"room-"+this.user.id+"-"+n},l.prototype.setTo=function(){var l=this;this.isNewConv?this.chatService.getUserInfo(this.reqId).subscribe((function(n){l.to=(new pl.m).deserialize(n.data),"model"==l.to.role&&"model"==l.user.role&&l.route.navigate(["/home"])}),(function(n){l.alertService.error(n.msg)})):this.listRoom.length&&(this.chatService.setCurrentRoom(this.listRoom[this.listRoom.length-1].id),this.to="model"==this.user.role?this.listRoom[this.listRoom.length-1].userId:this.to=this.listRoom[this.listRoom.length-1].modelId,this.beginRoom(this.roomId,this.to))},l.prototype.loadMoreMessage=function(){var l=this.listMessages.get(this.roomId).length;this.loadedMessageInCurrentRoom(l)},l.prototype.loadedMessageInCurrentRoom=function(l){var n=this;void 0===l&&(l=0),this.chatService.loadMessageinRoom(this.roomId,this.listMessages.get(this.roomId).length,30).subscribe((function(l){var t=n.listMessages.get(n.roomId),e=[];l.data.forEach((function(l){e.push(l)})),e.reverse(),t=gl.i(e,t),l.total&&t.length>=l.total&&(n.canLoadMessage=!1),n.listMessages.set(n.roomId,t),n.messages=n.listMessages.get(n.roomId)?n.listMessages.get(n.roomId):[],n.loadedMessage.set(n.roomId,!0)}))},l.prototype.attachMessage=function(){this.imgupload.nativeElement.click()},l.prototype.attachImg=function(l){if(this.to.id){var n=l.target.files[0],t=new pl.f;t.type="image",t.user=this.user,t.createdAt=new Date,t.roomId=this.roomId,t.to=this.to,t.isNew=!0,t.file={data:n,inProgress:!1,progress:0},t.from=this.user,this.messages.push(t),this.listMessages.set(this.roomId,this.messages),this.message=""}},l.prototype.goModelDetail=function(){this.to&&"member"==this.user.role&&this.route.navigateByUrl("model-detail/"+this.to.id)},l.prototype.ngOnDestroy=function(){console.log("run ng on destroy"),this.chatService.inChatPage=!1},l}(),fl=t("VCjd"),vl=e.sb({encapsulation:0,styles:[[".list-chat[_ngcontent-%COMP%], .scroll-user[_ngcontent-%COMP%]{overflow-y:scroll}.load_more_message[_ngcontent-%COMP%]{background:#9bc3ec;color:#000;border-radius:10px;height:20px;width:80px;font-size:10px;text-align:center;margin:auto;padding:5px;display:-webkit-box;display:flex;-webkit-box-pack:center;justify-content:center;line-height:10px}"]],data:{}});function El(l){return e.Qb(0,[(l()(),e.ub(0,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),e.Ob(1,null,["",""]))],null,(function(l,n){var t=n.component;l(n,1,0,t.listMessages.get(n.parent.parent.context.$implicit.id)[t.listMessages.get(n.parent.parent.context.$implicit.id).length-1].text)}))}function Il(l){return e.Qb(0,[(l()(),e.ub(0,0,null,null,8,"div",[["class","item-user"]],null,null,null,null,null)),(l()(),e.ub(1,0,null,null,2,"div",[["class","pic-user"]],null,null,null,null,null)),(l()(),e.ub(2,0,null,null,1,"img",[["class","mat-list-avatar"],["matListAvatar",""]],[[8,"src",4]],null,null,null,null)),e.tb(3,16384,[[6,4]],0,y.b,[],null,null),(l()(),e.ub(4,0,null,null,2,"a",[["class","mat-line"],["matLine",""]],null,[[null,"click"]],(function(l,n,t){var e=!0;return"click"===n&&(e=!1!==l.component.beginRoom(l.parent.context.$implicit.id,l.parent.context.$implicit.userId)&&e),e}),null,null)),e.tb(5,16384,[[5,4]],0,R.o,[],null,null),(l()(),e.Ob(6,null,[""," ",""])),(l()(),e.kb(16777216,null,null,1,null,El)),e.tb(8,16384,null,0,w.m,[e.R,e.O],{ngIf:[0,"ngIf"]},null)],(function(l,n){var t=n.component;l(n,8,0,t.listMessages.has(n.parent.context.$implicit.id)&&t.listMessages.get(n.parent.context.$implicit.id)[t.listMessages.get(n.parent.context.$implicit.id).length-1])}),(function(l,n){l(n,2,0,e.yb(1,"",n.component.imageHelper.getAvatarLinkV2(n.parent.context.$implicit.userId,n.parent.context.$implicit.userId.avatarPath,"thumbnail"),"")),l(n,6,0,n.parent.context.$implicit.userId.firstName,n.parent.context.$implicit.userId.lastName)}))}function kl(l){return e.Qb(0,[(l()(),e.ub(0,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),e.Ob(1,null,["",""]))],null,(function(l,n){var t=n.component;l(n,1,0,t.listMessages.get(n.parent.parent.parent.context.$implicit.id)[t.listMessages.get(n.parent.parent.parent.context.$implicit.id).length-1].text)}))}function Cl(l){return e.Qb(0,[(l()(),e.ub(0,0,null,null,8,"div",[["class","item-user"]],null,null,null,null,null)),(l()(),e.ub(1,0,null,null,2,"div",[["class","pic-user"]],null,null,null,null,null)),(l()(),e.ub(2,0,null,null,1,"img",[["class","mat-list-avatar"],["matListAvatar",""]],[[8,"src",4]],null,null,null,null)),e.tb(3,16384,[[6,4]],0,y.b,[],null,null),(l()(),e.ub(4,0,null,null,2,"a",[["class","mat-line"],["matLine",""]],null,[[null,"click"]],(function(l,n,t){var e=!0;return"click"===n&&(e=!1!==l.component.beginRoom(l.parent.parent.context.$implicit.id,l.parent.parent.context.$implicit.modelId)&&e),e}),null,null)),e.tb(5,16384,[[5,4]],0,R.o,[],null,null),(l()(),e.Ob(6,null,[""," ",""])),(l()(),e.kb(16777216,null,null,1,null,kl)),e.tb(8,16384,null,0,w.m,[e.R,e.O],{ngIf:[0,"ngIf"]},null)],(function(l,n){var t=n.component;l(n,8,0,t.listMessages.has(n.parent.parent.context.$implicit.id)&&t.listMessages.get(n.parent.parent.context.$implicit.id)[t.listMessages.get(n.parent.parent.context.$implicit.id).length-1])}),(function(l,n){l(n,2,0,e.yb(1,"",n.component.imageHelper.getAvatarLinkV2(n.parent.parent.context.$implicit.modelId,n.parent.parent.context.$implicit.modelId.avatarPath,"thumbnail"),"")),l(n,6,0,n.parent.parent.context.$implicit.modelId.firstName,n.parent.parent.context.$implicit.modelId.lastName)}))}function Ml(l){return e.Qb(0,[(l()(),e.kb(16777216,null,null,1,null,Cl)),e.tb(1,16384,null,0,w.m,[e.R,e.O],{ngIf:[0,"ngIf"]},null),(l()(),e.kb(0,null,null,0))],(function(l,n){l(n,1,0,n.parent.context.$implicit.modelId)}),null)}function xl(l){return e.Qb(0,[(l()(),e.ub(0,0,null,null,7,"mat-list-item",[["class","mat-list-item"]],[[2,"mat-list-item-avatar",null],[2,"mat-list-item-with-avatar",null]],null,null,O.d,O.b)),e.tb(1,1228800,null,3,y.c,[e.k,e.h,[2,y.g],[2,y.a]],null,null),e.Mb(603979776,5,{_lines:1}),e.Mb(603979776,6,{_avatar:0}),e.Mb(603979776,7,{_icon:0}),(l()(),e.kb(16777216,null,2,1,null,Il)),e.tb(6,16384,null,0,w.m,[e.R,e.O],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(l()(),e.kb(0,[["memberlist",2]],2,0,null,Ml))],(function(l,n){l(n,6,0,"model"==n.component.user.role&&n.context.$implicit.userId,e.Gb(n,7))}),(function(l,n){l(n,0,0,e.Gb(n,1)._avatar||e.Gb(n,1)._icon,e.Gb(n,1)._avatar||e.Gb(n,1)._icon)}))}function yl(l){return e.Qb(0,[(l()(),e.ub(0,0,null,null,4,"mat-list",[["class","example-viewport list-user mat-list mat-list-base"],["itemSize","50"],["maxBufferPx","400"],["minBufferPx","200"]],null,null,null,O.e,O.a)),e.tb(1,704512,null,0,y.a,[e.k],null,null),(l()(),e.kb(16777216,null,0,2,null,xl)),e.tb(3,278528,null,0,w.l,[e.R,e.O,e.u],{ngForOf:[0,"ngForOf"]},null),e.Kb(4,3)],(function(l,n){var t=n.component,u=e.Pb(n,3,0,l(n,4,0,e.Gb(n.parent,0),t.listRoom,t.queryString,t.searchableRoom));l(n,3,0,u)}),null)}function Rl(l){return e.Qb(0,[(l()(),e.ub(0,0,null,null,1,"div",[["class","pic-user"]],null,[[null,"click"]],(function(l,n,t){var e=!0;return"click"===n&&(e=!1!==l.component.goModelDetail()&&e),e}),null,null)),(l()(),e.ub(1,0,null,null,0,"img",[["class","mat-list-avatar"]],[[8,"src",4]],null,null,null,null))],null,(function(l,n){var t=n.component;l(n,1,0,e.yb(1,"",t.imageHelper.getAvatarLinkV2(t.to,t.to.avatarPath,"thumbnail"),""))}))}function wl(l){return e.Qb(0,[(l()(),e.ub(0,0,null,null,2,"div",[["class","status-top"]],null,null,null,null,null)),(l()(),e.Ob(-1,null,["Online "])),(l()(),e.ub(2,0,null,null,0,"span",[["class","status online"]],null,null,null,null,null))],null,null)}function Ol(l){return e.Qb(0,[(l()(),e.ub(0,0,null,null,2,"div",[["class","status-top"]],null,null,null,null,null)),(l()(),e.Ob(-1,null,[" Offline"])),(l()(),e.ub(2,0,null,null,0,"span",[["class","status offline"]],null,null,null,null,null))],null,null)}function Gl(l){return e.Qb(0,[(l()(),e.kb(16777216,null,null,1,null,Ol)),e.tb(1,16384,null,0,w.m,[e.R,e.O],{ngIf:[0,"ngIf"]},null),(l()(),e.kb(0,null,null,0))],(function(l,n){l(n,1,0,0==n.component.to.status)}),null)}function Ll(l){return e.Qb(0,[(l()(),e.ub(0,0,null,null,1,"a",[["class","load_more_message"]],null,[[null,"click"]],(function(l,n,t){var e=!0;return"click"===n&&(e=!1!==l.component.loadMoreMessage()&&e),e}),null,null)),(l()(),e.Ob(-1,null,[" load more! "]))],null,null)}function Sl(l){return e.Qb(0,[(l()(),e.ub(0,0,null,null,7,"div",[],null,null,null,null,null)),e.Lb(512,null,w.G,w.H,[e.u,e.v,e.k,e.G]),e.tb(2,278528,null,0,w.k,[w.G],{ngClass:[0,"ngClass"]},null),e.Jb(3,{"chat-2 chat":0,"chat-1 chat":1}),e.tb(4,933888,null,0,G.a,[e.k,L.i,L.f,w.G,[6,w.k]],{ngClass:[0,"ngClass"]},null),e.Jb(5,{"chat-2 chat":0,"chat-1 chat":1}),(l()(),e.ub(6,0,null,null,1,"app-messages-chat",[],null,null,null,X,B)),e.tb(7,114688,null,0,F,[V.a,D],{message:[0,"message"],to:[1,"to"],user:[2,"user"]},null)],(function(l,n){var t=n.component,e=l(n,3,0,n.context.$implicit.from.id==t.user.id||n.context.$implicit.from==t.user.id,n.context.$implicit.from.id==t.to.id||n.context.$implicit.from==t.to.id);l(n,2,0,e);var u=l(n,5,0,n.context.$implicit.from.id==t.user.id||n.context.$implicit.from==t.user.id,n.context.$implicit.from.id==t.to.id||n.context.$implicit.from==t.to.id);l(n,4,0,u),l(n,7,0,n.context.$implicit,t.to,t.user)}),null)}function Pl(l){return e.Qb(0,[e.Ib(0,ll,[]),e.Mb(671088640,1,{listChat:0}),e.Mb(671088640,2,{imgupload:0}),e.Mb(402653184,3,{toogleChat:0}),e.Mb(402653184,4,{chatMain:0}),(l()(),e.ub(5,0,null,null,1,"app-navigation",[],null,null,null,nl.b,nl.a)),e.tb(6,4308992,null,0,tl.a,[el.a,ul.a,sl.a,il.a,w.i,al.m],null,null),(l()(),e.ub(7,0,null,null,56,"div",[["class","model-chat"]],null,null,null,null,null)),(l()(),e.ub(8,0,null,null,55,"div",[["class","container"]],null,null,null,null,null)),(l()(),e.ub(9,0,null,null,9,"div",[["class","hea-top-main"]],null,null,null,null,null)),(l()(),e.ub(10,0,null,null,8,"div",[["class","thumbnail"]],null,null,null,null,null)),(l()(),e.ub(11,0,null,null,1,"a",[["href","#"]],null,null,null,null,null)),(l()(),e.Ob(-1,null,["Home "])),(l()(),e.Ob(-1,null,[" > "])),(l()(),e.ub(14,0,null,null,1,"a",[["href","#"]],null,null,null,null,null)),(l()(),e.Ob(15,null,[""," "," "])),(l()(),e.Ob(-1,null,[" > "])),(l()(),e.ub(17,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),e.Ob(-1,null,["Chat"])),(l()(),e.ub(19,0,[[4,0],["chatMain",1]],null,44,"div",[["class","chat-main"]],null,null,null,null,null)),e.Lb(512,null,w.G,w.H,[e.u,e.v,e.k,e.G]),e.tb(21,278528,null,0,w.k,[w.G],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.tb(22,933888,null,0,G.a,[e.k,L.i,L.f,w.G,[6,w.k]],{ngClass:[0,"ngClass"],klass:[1,"klass"]},null),(l()(),e.ub(23,0,[[3,0],["toogleChat",1]],null,1,"span",[["class","toogle-chat"]],null,[[null,"click"]],(function(l,n,t){var e=!0,u=l.component;return"click"===n&&(e=0!=(u.toogleChatClicked=!u.toogleChatClicked)&&e),e}),null,null)),(l()(),e.ub(24,0,null,null,0,"i",[["class","fa fa-users"]],null,null,null,null,null)),(l()(),e.ub(25,0,null,null,13,"div",[["class","left-main"]],null,null,null,null,null)),(l()(),e.ub(26,0,null,null,9,"div",[["class","search-chat"]],null,null,null,null,null)),(l()(),e.ub(27,0,null,null,1,"button",[],null,null,null,null,null)),(l()(),e.ub(28,0,null,null,0,"i",[["class","fa fa-search"]],null,null,null,null,null)),(l()(),e.ub(29,0,null,null,6,"input",[["name",""],["placeholder","Search"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,t){var u=!0,s=l.component;return"input"===n&&(u=!1!==e.Gb(l,30)._handleInput(t.target.value)&&u),"blur"===n&&(u=!1!==e.Gb(l,30).onTouched()&&u),"compositionstart"===n&&(u=!1!==e.Gb(l,30)._compositionStart()&&u),"compositionend"===n&&(u=!1!==e.Gb(l,30)._compositionEnd(t.target.value)&&u),"ngModelChange"===n&&(u=!1!==(s.queryString=t)&&u),u}),null,null)),e.tb(30,16384,null,0,ol.d,[e.G,e.k,[2,ol.a]],null,null),e.Lb(1024,null,ol.m,(function(l){return[l]}),[ol.d]),e.tb(32,671744,null,0,ol.r,[[8,null],[8,null],[8,null],[6,ol.m]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),e.Lb(2048,null,ol.n,null,[ol.r]),e.tb(34,81920,null,0,rl.b,[ol.n,e.k],null,null),e.tb(35,16384,null,0,ol.o,[[4,ol.n]],null,null),(l()(),e.ub(36,0,null,null,2,"div",[["class","scroll-user"]],null,null,null,null,null)),(l()(),e.kb(16777216,null,null,1,null,yl)),e.tb(38,16384,null,0,w.m,[e.R,e.O],{ngIf:[0,"ngIf"]},null),(l()(),e.ub(39,0,null,null,24,"div",[["class","right-main"]],null,null,null,null,null)),(l()(),e.ub(40,0,null,null,8,"div",[["class","top-chat"]],null,null,null,null,null)),(l()(),e.ub(41,0,null,null,7,"div",[["class","item-user"]],null,null,null,null,null)),(l()(),e.kb(16777216,null,null,1,null,Rl)),e.tb(43,16384,null,0,w.m,[e.R,e.O],{ngIf:[0,"ngIf"]},null),(l()(),e.ub(44,0,null,null,1,"h3",[],null,[[null,"click"]],(function(l,n,t){var e=!0;return"click"===n&&(e=!1!==l.component.goModelDetail()&&e),e}),null,null)),(l()(),e.Ob(45,null,[""," ",""])),(l()(),e.kb(16777216,null,null,1,null,wl)),e.tb(47,16384,null,0,w.m,[e.R,e.O],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(l()(),e.kb(0,[["chatOffline",2]],null,0,null,Gl)),(l()(),e.ub(49,0,[[1,0],["listChat",1]],null,4,"div",[["class","list-chat"]],[[8,"scrollTop",0]],null,null,null,null)),(l()(),e.kb(16777216,null,null,1,null,Ll)),e.tb(51,16384,null,0,w.m,[e.R,e.O],{ngIf:[0,"ngIf"]},null),(l()(),e.kb(16777216,null,null,1,null,Sl)),e.tb(53,278528,null,0,w.l,[e.R,e.O,e.u],{ngForOf:[0,"ngForOf"]},null),(l()(),e.ub(54,0,null,null,9,"div",[["class","form-message"]],null,null,null,null,null)),(l()(),e.ub(55,0,[[2,0],["imgupload",1]],null,0,"input",[["accept","image/x-png,image/gif,image/jpeg"],["id","imgupload"],["style","display:none"],["type","file"]],null,[[null,"change"]],(function(l,n,t){var e=!0;return"change"===n&&(e=!1!==l.component.attachImg(t)&&e),e}),null,null)),(l()(),e.ub(56,0,null,null,6,"textarea",[["placeholder","Enter Message"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"keyup"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,t){var u=!0,s=l.component;return"input"===n&&(u=!1!==e.Gb(l,57)._handleInput(t.target.value)&&u),"blur"===n&&(u=!1!==e.Gb(l,57).onTouched()&&u),"compositionstart"===n&&(u=!1!==e.Gb(l,57)._compositionStart()&&u),"compositionend"===n&&(u=!1!==e.Gb(l,57)._compositionEnd(t.target.value)&&u),"ngModelChange"===n&&(u=!1!==(s.message=t)&&u),"keyup"===n&&(u=!1!==(13==t.keyCode&&s.sendMessage())&&u),u}),null,null)),e.tb(57,16384,null,0,ol.d,[e.G,e.k,[2,ol.a]],null,null),e.Lb(1024,null,ol.m,(function(l){return[l]}),[ol.d]),e.tb(59,671744,null,0,ol.r,[[8,null],[8,null],[8,null],[6,ol.m]],{model:[0,"model"]},{update:"ngModelChange"}),e.Lb(2048,null,ol.n,null,[ol.r]),e.tb(61,81920,null,0,rl.b,[ol.n,e.k],null,null),e.tb(62,16384,null,0,ol.o,[[4,ol.n]],null,null),(l()(),e.ub(63,0,null,null,0,"div",[["class","right-message"]],null,null,null,null,null)),(l()(),e.ub(64,0,null,null,1,"app-footer",[],null,null,null,cl.b,cl.a)),e.tb(65,114688,null,0,bl.a,[il.a,al.m,ml.a,dl.a,el.a],null,null)],(function(l,n){var t=n.component;l(n,6,0),l(n,21,0,"chat-main",t.toogleChatClicked?"active":""),l(n,22,0,t.toogleChatClicked?"active":"","chat-main"),l(n,32,0,"",t.queryString),l(n,34,0),l(n,38,0,t.listMessages),l(n,43,0,t.to&&t.to.avatarUrl),l(n,47,0,1==t.to.status,e.Gb(n,48)),l(n,51,0,t.canLoadMessage),l(n,53,0,t.messages),l(n,59,0,t.message),l(n,61,0),l(n,65,0)}),(function(l,n){var t=n.component;l(n,15,0,t.user.firstName,t.user.lastName),l(n,29,0,e.Gb(n,35).ngClassUntouched,e.Gb(n,35).ngClassTouched,e.Gb(n,35).ngClassPristine,e.Gb(n,35).ngClassDirty,e.Gb(n,35).ngClassValid,e.Gb(n,35).ngClassInvalid,e.Gb(n,35).ngClassPending),l(n,45,0,t.to.firstName,t.to.lastName),l(n,49,0,e.Gb(n,49).scrollHeight),l(n,56,0,e.Gb(n,62).ngClassUntouched,e.Gb(n,62).ngClassTouched,e.Gb(n,62).ngClassPristine,e.Gb(n,62).ngClassDirty,e.Gb(n,62).ngClassValid,e.Gb(n,62).ngClassInvalid,e.Gb(n,62).ngClassPending)}))}function $l(l){return e.Qb(0,[(l()(),e.ub(0,0,null,null,1,"app-chat",[],null,null,null,Pl,vl)),e.tb(1,245760,null,0,hl,[V.a,el.a,dl.a,al.m,fl.a,al.a],null,null)],(function(l,n){l(n,1,0)}),null)}var Nl=e.qb("app-chat",hl,$l,{name:"name"},{},[]),Al=t("M2Lx"),Ql=t("lLAP"),jl=t("OBdK"),_l=t("9Bt9"),Ul=t("qAlS"),Fl=t("eDkP"),Vl=t("Fzqc"),ql=t("4tE/"),Dl=t("wmQ5"),Bl=t("o3x0"),Tl=t("jQLj"),zl=t("mVsa"),Hl=t("uGex"),Kl=t("v9Dh"),Yl=t("ZYjt"),Jl=t("4epT"),Zl=t("OkvK"),Wl=t("4GxJ"),Xl=t("NJnL"),ln=t("lqqz"),nn=t("xtZt"),tn=t("eajB"),en=t("UIii"),un=t("Lwpp"),sn=t("y4qS"),an=t("4c35"),on=t("UodH"),rn=t("u7R8"),cn=t("FVSy"),bn=t("de3e"),mn=t("/dO6"),dn=t("SMsm"),gn=t("YhbO"),pn=t("jlZm"),hn=t("r43C"),fn=t("/VYK"),vn=t("seP3"),En=t("b716"),In=t("Z+uX"),kn=t("9It4"),Cn=t("Nsh5"),Mn=t("w+lc"),xn=t("kWGw"),yn=t("vARd"),Rn=t("BHnd"),wn=t("La40"),On=t("8mMr"),Gn=t("LC5p"),Ln=t("PCNd"),Sn=t("V2/6"),Pn=t("21Lb"),$n=t("3pJQ"),Nn=t("V9q+"),An=t("rnSZ"),Qn=t("efFR"),jn=t("VUZM"),_n=function(){return function(){}}(),Un=t("YSh2");t.d(n,"ChatModuleNgFactory",(function(){return Fn}));var Fn=e.rb(u,[],(function(l){return e.Db([e.Eb(512,e.j,e.db,[[8,[s.a,i.b,i.a,a.a,o.a,o.b,r.a,c.a,c.b,c.l,c.m,c.i,c.j,c.k,b.a,m.a,d.a,g.a,p.a,h.a,f.a,v.a,E.a,I.a,k.a,C.a,M.a,x.a,Nl]],[3,e.j],e.z]),e.Eb(4608,w.o,w.n,[e.w,[2,w.L]]),e.Eb(4608,Al.c,Al.c,[]),e.Eb(135680,Ql.h,Ql.h,[e.B,$.a]),e.Eb(4608,jl.b,jl.b,[e.O]),e.Eb(4608,_l.a,_l.a,[w.d,e.B,Ul.e,_l.c]),e.Eb(4608,Fl.c,Fl.c,[Fl.i,Fl.e,e.j,Fl.h,Fl.f,e.s,e.B,w.d,Vl.b,[2,w.i]]),e.Eb(5120,Fl.j,Fl.k,[Fl.c]),e.Eb(5120,ql.a,ql.b,[Fl.c]),e.Eb(4608,R.d,R.d,[]),e.Eb(5120,Dl.g,Dl.a,[[3,Dl.g]]),e.Eb(5120,Bl.c,Bl.d,[Fl.c]),e.Eb(135680,Bl.e,Bl.e,[Fl.c,e.s,[2,w.i],[2,Bl.b],Bl.c,[3,Bl.e],Fl.e]),e.Eb(4608,Tl.h,Tl.h,[]),e.Eb(5120,Tl.a,Tl.b,[Fl.c]),e.Eb(5120,zl.c,zl.j,[Fl.c]),e.Eb(4608,R.c,R.z,[[2,R.h],$.a]),e.Eb(5120,Hl.a,Hl.b,[Fl.c]),e.Eb(5120,Kl.b,Kl.c,[Fl.c]),e.Eb(4608,Yl.e,R.e,[[2,R.i],[2,R.n]]),e.Eb(5120,Jl.c,Jl.a,[[3,Jl.c]]),e.Eb(5120,Zl.d,Zl.a,[[3,Zl.d]]),e.Eb(5120,e.b,(function(l,n){return[L.j(l,n)]}),[w.d,e.D]),e.Eb(4608,ol.y,ol.y,[]),e.Eb(4608,Wl.C,Wl.C,[e.j,e.s,Wl.sb,Wl.D]),e.Eb(4608,ol.e,ol.e,[]),e.Eb(4608,Xl.a,Xl.a,[e.B,e.H,e.D]),e.Eb(4608,ln.a,ln.a,[e.j,e.B,e.s,Xl.a,e.g]),e.Eb(4608,nn.f,nn.f,[]),e.Eb(4608,tn.a,tn.a,[]),e.Eb(4608,en.e,en.e,[e.B]),e.Eb(4608,en.d,en.d,[en.e,e.B]),e.Eb(1073742336,w.c,w.c,[]),e.Eb(1073742336,$.b,$.b,[]),e.Eb(1073742336,Al.d,Al.d,[]),e.Eb(1073742336,Ql.a,Ql.a,[]),e.Eb(1073742336,Vl.a,Vl.a,[]),e.Eb(1073742336,un.e,un.e,[]),e.Eb(1073742336,sn.p,sn.p,[]),e.Eb(1073742336,jl.a,jl.a,[]),e.Eb(1073742336,_l.b,_l.b,[]),e.Eb(1073742336,R.n,R.n,[[2,R.f],[2,Yl.f]]),e.Eb(1073742336,R.y,R.y,[]),e.Eb(1073742336,R.w,R.w,[]),e.Eb(1073742336,R.t,R.t,[]),e.Eb(1073742336,an.g,an.g,[]),e.Eb(1073742336,Ul.c,Ul.c,[]),e.Eb(1073742336,Fl.g,Fl.g,[]),e.Eb(1073742336,ql.c,ql.c,[]),e.Eb(1073742336,on.c,on.c,[]),e.Eb(1073742336,rn.a,rn.a,[]),e.Eb(1073742336,cn.d,cn.d,[]),e.Eb(1073742336,bn.d,bn.d,[]),e.Eb(1073742336,bn.c,bn.c,[]),e.Eb(1073742336,mn.b,mn.b,[]),e.Eb(1073742336,dn.c,dn.c,[]),e.Eb(1073742336,Dl.h,Dl.h,[]),e.Eb(1073742336,Bl.k,Bl.k,[]),e.Eb(1073742336,Tl.i,Tl.i,[]),e.Eb(1073742336,gn.c,gn.c,[]),e.Eb(1073742336,pn.a,pn.a,[]),e.Eb(1073742336,R.p,R.p,[]),e.Eb(1073742336,hn.a,hn.a,[]),e.Eb(1073742336,fn.c,fn.c,[]),e.Eb(1073742336,vn.e,vn.e,[]),e.Eb(1073742336,En.b,En.b,[]),e.Eb(1073742336,zl.i,zl.i,[]),e.Eb(1073742336,zl.f,zl.f,[]),e.Eb(1073742336,R.A,R.A,[]),e.Eb(1073742336,R.q,R.q,[]),e.Eb(1073742336,Hl.d,Hl.d,[]),e.Eb(1073742336,Kl.e,Kl.e,[]),e.Eb(1073742336,Jl.d,Jl.d,[]),e.Eb(1073742336,In.a,In.a,[]),e.Eb(1073742336,P.c,P.c,[]),e.Eb(1073742336,kn.a,kn.a,[]),e.Eb(1073742336,Cn.h,Cn.h,[]),e.Eb(1073742336,Mn.a,Mn.a,[]),e.Eb(1073742336,xn.d,xn.d,[]),e.Eb(1073742336,xn.c,xn.c,[]),e.Eb(1073742336,yn.e,yn.e,[]),e.Eb(1073742336,Zl.e,Zl.e,[]),e.Eb(1073742336,Rn.m,Rn.m,[]),e.Eb(1073742336,wn.j,wn.j,[]),e.Eb(1073742336,On.b,On.b,[]),e.Eb(1073742336,Gn.b,Gn.b,[]),e.Eb(1073742336,y.d,y.d,[]),e.Eb(1073742336,Ln.a,Ln.a,[]),e.Eb(1073742336,Sn.a,Sn.a,[]),e.Eb(1073742336,L.c,L.c,[]),e.Eb(1073742336,Pn.e,Pn.e,[]),e.Eb(1073742336,G.c,G.c,[]),e.Eb(1073742336,$n.a,$n.a,[]),e.Eb(1073742336,Nn.a,Nn.a,[[2,L.g],e.D]),e.Eb(1073742336,al.q,al.q,[[2,al.v],[2,al.m]]),e.Eb(1073742336,An.b,An.b,[]),e.Eb(1073742336,Wl.d,Wl.d,[]),e.Eb(1073742336,Wl.g,Wl.g,[]),e.Eb(1073742336,Wl.h,Wl.h,[]),e.Eb(1073742336,Wl.l,Wl.l,[]),e.Eb(1073742336,Wl.m,Wl.m,[]),e.Eb(1073742336,ol.x,ol.x,[]),e.Eb(1073742336,ol.k,ol.k,[]),e.Eb(1073742336,Wl.s,Wl.s,[]),e.Eb(1073742336,Wl.z,Wl.z,[]),e.Eb(1073742336,Wl.E,Wl.E,[]),e.Eb(1073742336,Wl.G,Wl.G,[]),e.Eb(1073742336,Wl.L,Wl.L,[]),e.Eb(1073742336,Wl.O,Wl.O,[]),e.Eb(1073742336,Wl.R,Wl.R,[]),e.Eb(1073742336,Wl.U,Wl.U,[]),e.Eb(1073742336,Wl.Y,Wl.Y,[]),e.Eb(1073742336,Wl.db,Wl.db,[]),e.Eb(1073742336,Wl.gb,Wl.gb,[]),e.Eb(1073742336,Wl.hb,Wl.hb,[]),e.Eb(1073742336,Wl.ib,Wl.ib,[]),e.Eb(1073742336,Wl.F,Wl.F,[]),e.Eb(1073742336,ol.u,ol.u,[]),e.Eb(1073742336,Qn.b,Qn.b,[]),e.Eb(1073742336,nn.e,nn.e,[]),e.Eb(1073742336,tn.d,tn.d,[]),e.Eb(1073742336,rl.d,rl.d,[]),e.Eb(1073742336,en.b,en.b,[]),e.Eb(1073742336,jn.a,jn.a,[]),e.Eb(1073742336,Ln.b,Ln.b,[]),e.Eb(1073742336,_n,_n,[]),e.Eb(1073742336,u,u,[]),e.Eb(256,mn.a,{separatorKeyCodes:[Un.f]},[]),e.Eb(256,R.g,R.k,[]),e.Eb(256,nn.a,{autoClose:!0,insideClick:!1},[]),e.Eb(1024,al.k,(function(){return[[{path:"",component:hl}]]}),[])])}))}}]);